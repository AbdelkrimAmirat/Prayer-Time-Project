<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caprasimo&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Great+Vibes&family=Lora:ital@1&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: "Lora", serif;
            font-optical-sizing: auto;
            font-style: italic;
            background: linear-gradient(45deg, #240165, #05001c);
        }
        #city-name {   
            font-size: 40px;
            font-weight: 400;
        }
        h1,h2,h3,h4,h5,h6 {
            margin: 0;
            padding: 0;
        }
        .card {
            width : 12%;
            height: 95%;
            background-color: white;
            font-size: 20px;
            box-shadow: 0px 10px 5px rgb(0, 0, 0 / 30%);
        }
        .header{
            background: linear-gradient(45deg, #5709ee,  #7a37bf );
            color: white;
            }
        .header h1 {
            font-weight: 300; 
            padding : 5px;
        }
        .center{
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .time {
            font-size: 30px;
            font-weight: 200;
        }
    </style>

</head>

<body >

    <div style = "height: 100vh;">

        <!-- CITY NAME + DATE --> 
        <div  style="margin-top: 100px;">
    
            <div style = "color: white; margin-left: 40px;">
                <h2 id="city-name"></h2>
                <h6 id ="date" style ="font-size: 16px; font-weight: 200"></h6>
            </div>
            
            <hr style = "margin : 0px 40px; border-color: #5200e1">

            <!--   PRAYER TIMING  -->

            <div class ="center" style ="height: 200px; margin-top: 20px; justify-content: space-around;  ">

                <!--  CARD  -->
                <div class = "card">
                    <div class = "header">
                        <h1>Fajr</h1>
                    </div>
                    <div class ="body center" style ="height: 70%">
                        <h4 class = "time" id = "fajr-time">05:00</h4>
                    </div>
                </div>
                <!--  // CARD  -->

                <!--  CARD  -->
                <div class = "card">
                    <div class = "header">
                        <h1>Sunrise</h1>
                    </div>
                    <div class ="body center" style ="height: 70%">
                        <h4 class = "time" id = "sunrise-time">05:00</h4>
                    </div>
                </div>
                <!--  // CARD  -->

                <!--  CARD  -->
                <div class = "card">
                    <div class = "header">
                        <h1>Dhuhr</h1>
                    </div>
                    <div class ="body center" style ="height: 70%">
                        <h4 class = "time" id = "dhuhr-time">05:00</h4>
                    </div>
                </div>
                <!--  // CARD  -->

                <!--  CARD  -->
                <div class = "card">
                    <div class = "header">
                        <h1>Asr</h1>
                    </div>
                    <div class ="body center" style ="height: 70%">
                        <h4 class = "time" id = "asr-time">05:00</h4>
                    </div>
                </div>
                <!--  // CARD  -->

                <!--  CARD  -->
                <div class = "card">
                    <div class = "header">
                        <h1>Maghrib</h1>
                    </div>
                    <div class ="body center" style ="height: 70%">
                        <h4 class = "time" id = "maghrib-time">05:00</h4>
                    </div>
                </div>
                <!--  // CARD  -->

                <!--  CARD  -->
                <div class = "card">
                    <div class = "header">
                        <h1>Isha</h1>
                    </div>
                    <div class ="body center" style ="height: 70%">
                        <h4 class = "time" id = "isha-time">05:00</h4>
                    </div>
                </div>
                <!--  // CARD  -->

            </div>
            <!--   // PRAYER TIMING  -->

            <!-- CHANGE CITY SELECT -->
            <div class ="center" style ="margin-top: 70px;">
                <select name ="" id ="cities-select" style = "width: 300px; height:35px; font-size: 25px; font-family: Lora, serif; background-color: rgb(46, 18, 104); color: white;">

                </select>
            </div>
            <!-- CHANGE CITY SELECT -->

        </div>      
        <!-- //  CITY NAME + DATE -->

    </div>        
</body>

<script src="./node_modules/axios/dist/axios.min.js"></script>

<script> 

    let cities =["Annaba", "Guelma", "Constantine", "Alger", "Souk Ahras"];
    document.getElementById('city-name').innerHTML = cities[0];
    getPrayerTime(cities[0]);

    for (let city of cities) {
        const content =`
            <option>${city}</option>
        `
        document.getElementById('cities-select').innerHTML += content;  
    }
 
    document.getElementById('cities-select').addEventListener('change', function(){
        getPrayerTime(this.value);
        document.getElementById('city-name').innerHTML = this.value;
    })
    
    function getPrayerTime(cityName){

        let params = {
            d: Date.now(),
            county: "DZ",
            city: cityName,
            method: 19,
            shafaq: "general",
            tune: "5%2C3%2C5%2C7%2C9%2C-1%2C0%2C8%2C-6",
            timezonestring: "UTC",
            calendarMethod: "UAQ"
        }
        axios.get('https://api.aladhan.com/v1/timingsByCity/d?city=Annaba&country=DZ&method=19&shafaq=general&tune=5%2C3%2C5%2C7%2C9%2C-1%2C0%2C8%2C-6&timezonestring=UTC&calendarMethod=UAQ',{
            params: params
        })
        .then(function (response) {
            
            document.getElementById('fajr-time').innerText = response.data.data.timings.Fajr;   
            document.getElementById('sunrise-time').innerText = response.data.data.timings.Sunrise;
            document.getElementById('dhuhr-time').innerText = response.data.data.timings.Dhuhr;
            document.getElementById('asr-time').innerText = response.data.data.timings.Asr;
            document.getElementById('maghrib-time').innerText = response.data.data.timings.Maghrib;
            document.getElementById('isha-time').innerText = response.data.data.timings.Isha;

            const redeableDate = response.data.data.date.readable;
            const weekday = response.data.data.date.gregorian.weekday.en;
            document.getElementById('date').innerText = `${weekday} ${redeableDate}`
        })

        .catch(function (error) {
            console.log(error);
        })

    }

</script> 

</html>